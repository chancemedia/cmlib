<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CMLIB: CMForm.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>CMForm.php</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 include_once(<span class="stringliteral">&quot;CMClass.php&quot;</span>);
<a name="l00004"></a>00004 include_once(<span class="stringliteral">&quot;CMMySQL.php&quot;</span>);
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="comment">// some change</span>
<a name="l00007"></a>00007 
<a name="l00018"></a><a class="code" href="class_c_m_form.html">00018</a> <span class="keyword">class </span><a class="code" href="class_c_m_form.html" title="HTML form object builder.">CMForm</a> <span class="keyword">implements</span> <a class="code" href="interface_c_m_class.html" title="CM class interface.">CMClass</a> {
<a name="l00019"></a>00019  
<a name="l00025"></a><a class="code" href="class_c_m_form.html#a9e2d53558e7b299d52b25c13d310d7e0">00025</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a9e2d53558e7b299d52b25c13d310d7e0" title="The version of this class.">Version</a>() {
<a name="l00026"></a>00026   <span class="keywordflow">return</span> <span class="stringliteral">&quot;1.0&quot;</span>;
<a name="l00027"></a>00027  }
<a name="l00028"></a>00028  
<a name="l00034"></a><a class="code" href="class_c_m_form.html#ab51e04ce58ff27601a503f46d611b7e6">00034</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#ab51e04ce58ff27601a503f46d611b7e6" title="The version this class was introduced to the library.">Since</a>() {
<a name="l00035"></a>00035   <span class="keywordflow">return</span> <span class="stringliteral">&quot;1.0&quot;</span>;
<a name="l00036"></a>00036  }
<a name="l00037"></a>00037  
<a name="l00047"></a><a class="code" href="class_c_m_form.html#a099e4017f35f6b68f2eadeb8497a954c">00047</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a099e4017f35f6b68f2eadeb8497a954c" title="Escape double-quotes for HTML attribute value.">HTMLEscape</a>($str) {
<a name="l00048"></a>00048   <span class="keywordflow">return</span> str_replace(<span class="charliteral">&#39;&quot;&#39;</span>, <span class="stringliteral">&#39;&amp;quot;&#39;</span>, $str);
<a name="l00049"></a>00049  }
<a name="l00050"></a>00050  
<a name="l00060"></a><a class="code" href="class_c_m_form.html#a45099772beda49af1a9a9c2c2ec6032e">00060</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a45099772beda49af1a9a9c2c2ec6032e" title="Internal function for recursing an array to remove slashes.">StripSlashesRecursive</a>($value) {
<a name="l00061"></a>00061   <span class="keywordflow">if</span>(is_array($value)) {
<a name="l00062"></a>00062    <span class="keywordflow">foreach</span>($value as $k =&gt; $v)
<a name="l00063"></a>00063     $value[$k] = <a class="code" href="class_c_m_form.html#a45099772beda49af1a9a9c2c2ec6032e" title="Internal function for recursing an array to remove slashes.">CMForm::StripSlashesRecursive</a>($v);
<a name="l00064"></a>00064   } <span class="keywordflow">else</span> $value = stripslashes($value);
<a name="l00065"></a>00065   
<a name="l00066"></a>00066   <span class="keywordflow">return</span> $value;
<a name="l00067"></a>00067  }
<a name="l00068"></a>00068  
<a name="l00081"></a><a class="code" href="class_c_m_form.html#acdab04c27e05279acb646abd5eec242b">00081</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#acdab04c27e05279acb646abd5eec242b" title="Get the safe value of posted form object.">Request</a>($objname) {
<a name="l00082"></a>00082   <span class="keywordflow">return</span> <a class="code" href="class_c_m_form.html#a45099772beda49af1a9a9c2c2ec6032e" title="Internal function for recursing an array to remove slashes.">CMForm::StripSlashesRecursive</a>($_REQUEST[$objname]);
<a name="l00083"></a>00083  }
<a name="l00084"></a>00084 
<a name="l00093"></a><a class="code" href="class_c_m_form.html#a287dc451ffa7a46f65aa8228aabf9bb6">00093</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a287dc451ffa7a46f65aa8228aabf9bb6" title="Works like Request() but only fetches data from $_GET.">Get</a>($objname) {
<a name="l00094"></a>00094   <span class="keywordflow">return</span> <a class="code" href="class_c_m_form.html#a45099772beda49af1a9a9c2c2ec6032e" title="Internal function for recursing an array to remove slashes.">CMForm::StripSlashesRecursive</a>($_GET[$objname]);
<a name="l00095"></a>00095  }
<a name="l00096"></a>00096 
<a name="l00105"></a><a class="code" href="class_c_m_form.html#a32d5f01edafc0d7ed1c2537ddfc6d808">00105</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a32d5f01edafc0d7ed1c2537ddfc6d808" title="Works like Request() but only fetches data from $_POST.">Post</a>($objname) {
<a name="l00106"></a>00106   <span class="keywordflow">return</span> <a class="code" href="class_c_m_form.html#a45099772beda49af1a9a9c2c2ec6032e" title="Internal function for recursing an array to remove slashes.">CMForm::StripSlashesRecursive</a>($_POST[$objname]);
<a name="l00107"></a>00107  }
<a name="l00108"></a>00108  
<a name="l00119"></a><a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2">00119</a>  <span class="keyword">private</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">DefaultAttributes</a>($a) {
<a name="l00120"></a>00120   <span class="comment">// firstly it must be an array</span>
<a name="l00121"></a>00121   <span class="keywordflow">if</span>(!is_array($a))
<a name="l00122"></a>00122    $a = array();
<a name="l00123"></a>00123    
<a name="l00124"></a>00124   $defaults = array(
<a name="l00125"></a>00125    <span class="stringliteral">&#39;caption&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00126"></a>00126    <span class="stringliteral">&#39;captionempty&#39;</span> =&gt; <span class="stringliteral">&quot;&quot;</span>,
<a name="l00127"></a>00127    <span class="stringliteral">&#39;class&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00128"></a>00128    <span class="stringliteral">&#39;custom&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00129"></a>00129      <span class="stringliteral">&#39;data&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00130"></a>00130    <span class="stringliteral">&#39;disabled&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00131"></a>00131    <span class="stringliteral">&#39;height&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00132"></a>00132    <span class="stringliteral">&#39;html&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00133"></a>00133    <span class="stringliteral">&#39;label&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00134"></a>00134             <span class="stringliteral">&#39;name&#39;</span> =&gt; <span class="stringliteral">&quot;&quot;</span>,
<a name="l00135"></a>00135    <span class="stringliteral">&#39;onblur&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00136"></a>00136    <span class="stringliteral">&#39;onchange&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00137"></a>00137    <span class="stringliteral">&#39;onclick&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00138"></a>00138    <span class="stringliteral">&#39;ondblclick&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00139"></a>00139    <span class="stringliteral">&#39;onfocus&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00140"></a>00140    <span class="stringliteral">&#39;onkeydown&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00141"></a>00141    <span class="stringliteral">&#39;onkeypress&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00142"></a>00142    <span class="stringliteral">&#39;onkeyup&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00143"></a>00143    <span class="stringliteral">&#39;onmousedown&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00144"></a>00144    <span class="stringliteral">&#39;onmouseout&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00145"></a>00145    <span class="stringliteral">&#39;onmousemove&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00146"></a>00146    <span class="stringliteral">&#39;onmouseup&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00147"></a>00147    <span class="stringliteral">&#39;onmouseover&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00148"></a>00148    <span class="stringliteral">&#39;onselect&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00149"></a>00149    <span class="stringliteral">&#39;readonly&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00150"></a>00150    <span class="stringliteral">&#39;style&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00151"></a>00151    <span class="stringliteral">&#39;tabindex&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00152"></a>00152    <span class="stringliteral">&#39;value&#39;</span> =&gt; <span class="stringliteral">&quot;&quot;</span>,
<a name="l00153"></a>00153    <span class="stringliteral">&#39;width&#39;</span> =&gt; <span class="keyword">false</span>,
<a name="l00154"></a>00154    <span class="stringliteral">&#39;wrap&#39;</span> =&gt; <span class="stringliteral">&quot;off&quot;</span>,
<a name="l00155"></a>00155     <span class="stringliteral">&#39;id&#39;</span> =&gt; <span class="stringliteral">&#39;$name&#39;</span>
<a name="l00156"></a>00156   );
<a name="l00157"></a>00157   
<a name="l00158"></a>00158   <span class="keywordflow">foreach</span>($defaults as $k =&gt; $v) {
<a name="l00159"></a>00159    <span class="keywordflow">if</span>(!isset($a[$k])) {
<a name="l00160"></a>00160     <span class="keywordflow">if</span>(substr($v, 0, 1) == <span class="charliteral">&#39;$&#39;</span>)
<a name="l00161"></a>00161      $a[$k] = $a[substr($v, 1)];
<a name="l00162"></a>00162     <span class="keywordflow">else</span> $a[$k] = $v;
<a name="l00163"></a>00163    }
<a name="l00164"></a>00164   }
<a name="l00165"></a>00165   
<a name="l00166"></a>00166   <span class="comment">// convert SQL queries into data</span>
<a name="l00167"></a>00167   <span class="keywordflow">foreach</span>($a as $k =&gt; $v) {
<a name="l00168"></a>00168    <span class="keywordflow">if</span>($v instanceof <a class="code" href="interface_c_m_query_protocol.html" title="Database query interface.">CMQueryProtocol</a>) {
<a name="l00169"></a>00169     <span class="comment">// some attributes are special and require an array()</span>
<a name="l00170"></a>00170     <span class="keywordflow">if</span>($k == <span class="stringliteral">&#39;data&#39;</span>) {
<a name="l00171"></a>00171      $a[$k] = array();
<a name="l00172"></a>00172      <span class="keywordflow">while</span>(($r = $v-&gt;fetch(<span class="stringliteral">&#39;line&#39;</span>)) !== <span class="keyword">false</span>)
<a name="l00173"></a>00173       $a[$k][] = array($r[0], $r[1]);
<a name="l00174"></a>00174     } <span class="keywordflow">else</span> {
<a name="l00175"></a>00175      $a[$k] = mysql_fetch_row($v);
<a name="l00176"></a>00176      $a[$k] = $a[$k][0];
<a name="l00177"></a>00177     }
<a name="l00178"></a>00178    }
<a name="l00179"></a>00179   }
<a name="l00180"></a>00180   
<a name="l00181"></a>00181   <span class="comment">// now escape them</span>
<a name="l00182"></a>00182   <span class="keywordflow">foreach</span>($a as $k =&gt; $v)
<a name="l00183"></a>00183    $a[$k] = <a class="code" href="class_c_m_form.html#a099e4017f35f6b68f2eadeb8497a954c" title="Escape double-quotes for HTML attribute value.">CMForm::HTMLEscape</a>($v);
<a name="l00184"></a>00184    
<a name="l00185"></a>00185   <span class="keywordflow">return</span> $a;
<a name="l00186"></a>00186  }
<a name="l00187"></a>00187  
<a name="l00198"></a><a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a">00198</a>  <span class="keyword">private</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">MainAttributes</a>($a, $checkbox = <span class="keyword">false</span>) {
<a name="l00199"></a>00199   <span class="keywordflow">if</span>($checkbox)
<a name="l00200"></a>00200    $html = <span class="stringliteral">&quot; name=\&quot;$a[name][]\&quot;&quot;</span>;
<a name="l00201"></a>00201   <span class="keywordflow">else</span> $html = <span class="stringliteral">&quot; name=\&quot;$a[name]\&quot;&quot;</span>;
<a name="l00202"></a>00202   $html .= <span class="stringliteral">&quot; id=\&quot;$a[id]\&quot;&quot;</span>;
<a name="l00203"></a>00203   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;class&#39;</span>]) $html .= <span class="stringliteral">&quot; class=\&quot;$a[class]\&quot;&quot;</span>;
<a name="l00204"></a>00204   
<a name="l00205"></a>00205   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onblur&#39;</span>]) $html .= <span class="stringliteral">&quot; onblur=\&quot;$a[onblur]\&quot;&quot;</span>;
<a name="l00206"></a>00206   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onchange&#39;</span>]) $html .= <span class="stringliteral">&quot; onchange=\&quot;$a[onchange]\&quot;&quot;</span>;
<a name="l00207"></a>00207   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onclick&#39;</span>]) $html .= <span class="stringliteral">&quot; onclick=\&quot;$a[onclick]\&quot;&quot;</span>;
<a name="l00208"></a>00208   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;ondblclick&#39;</span>]) $html .= <span class="stringliteral">&quot; ondblclick=\&quot;$a[ondblclick]\&quot;&quot;</span>;
<a name="l00209"></a>00209   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onfocus&#39;</span>]) $html .= <span class="stringliteral">&quot; onfocus=\&quot;$a[onfocus]\&quot;&quot;</span>;
<a name="l00210"></a>00210   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onkeydown&#39;</span>]) $html .= <span class="stringliteral">&quot; onkeydown=\&quot;$a[onkeydown]\&quot;&quot;</span>;
<a name="l00211"></a>00211   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onkeypress&#39;</span>]) $html .= <span class="stringliteral">&quot; onkeypress=\&quot;$a[onkeypress]\&quot;&quot;</span>;
<a name="l00212"></a>00212   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onkeyup&#39;</span>]) $html .= <span class="stringliteral">&quot; onkeyup=\&quot;$a[onkeyup]\&quot;&quot;</span>;
<a name="l00213"></a>00213   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onmousedown&#39;</span>]) $html .= <span class="stringliteral">&quot; onmousedown=\&quot;$a[onmousedown]\&quot;&quot;</span>;
<a name="l00214"></a>00214   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onmouseout&#39;</span>]) $html .= <span class="stringliteral">&quot; onmouseout=\&quot;$a[onmouseout]\&quot;&quot;</span>;
<a name="l00215"></a>00215   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onmousemove&#39;</span>]) $html .= <span class="stringliteral">&quot; onmousemove=\&quot;$a[onmousemove]\&quot;&quot;</span>;
<a name="l00216"></a>00216   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onmouseup&#39;</span>]) $html .= <span class="stringliteral">&quot; onchange=\&quot;$a[onmouseup]\&quot;&quot;</span>;
<a name="l00217"></a>00217   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onmouseover&#39;</span>]) $html .= <span class="stringliteral">&quot; onmouseover=\&quot;$a[onmouseover]\&quot;&quot;</span>;
<a name="l00218"></a>00218   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;onselect&#39;</span>]) $html .= <span class="stringliteral">&quot; onselect=\&quot;$a[onselect]\&quot;&quot;</span>;
<a name="l00219"></a>00219   
<a name="l00220"></a>00220   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;style&#39;</span>]) $html .= <span class="stringliteral">&quot; style=\&quot;$a[style]\&quot;&quot;</span>;
<a name="l00221"></a>00221   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;disabled&#39;</span>]) $html .= <span class="stringliteral">&quot; disabled=\&quot;disabled\&quot;&quot;</span>;
<a name="l00222"></a>00222   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;readonly&#39;</span>]) $html .= <span class="stringliteral">&quot; readonly=\&quot;readonly\&quot;&quot;</span>;
<a name="l00223"></a>00223   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;label&#39;</span>]) $html .= <span class="stringliteral">&quot; label=\&quot;$a[label]\&quot;&quot;</span>;
<a name="l00224"></a>00224   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;tabindex&#39;</span>]) $html .= <span class="stringliteral">&quot; tabindex=\&quot;$a[tabindex]\&quot;&quot;</span>;
<a name="l00225"></a>00225   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;custom&#39;</span>]) $html .= <span class="stringliteral">&quot; $a[custom]&quot;</span>;
<a name="l00226"></a>00226   
<a name="l00227"></a>00227   <span class="keywordflow">return</span> $html;
<a name="l00228"></a>00228  }
<a name="l00229"></a>00229  
<a name="l00236"></a><a class="code" href="class_c_m_form.html#adaefe5e02971807c89f7dde072e91769">00236</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#adaefe5e02971807c89f7dde072e91769" title="Create a single line text box.">TextBox</a>($a) {
<a name="l00237"></a>00237   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00238"></a>00238   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;caption&#39;</span>]) {
<a name="l00239"></a>00239    <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;value&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00240"></a>00240     $a[<span class="stringliteral">&#39;value&#39;</span>] = $a[<span class="stringliteral">&#39;captionempty&#39;</span>];
<a name="l00241"></a>00241    <span class="keywordflow">return</span> $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="stringliteral">&#39;&amp;nbsp;&#39;</span>;
<a name="l00242"></a>00242   }
<a name="l00243"></a>00243   $html = <span class="stringliteral">&quot;&lt;input type=&#39;text&#39;&quot;</span> . <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a);
<a name="l00244"></a>00244   $html .= <span class="stringliteral">&#39; value=&quot;&#39;</span> . $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00245"></a>00245   $html .= <span class="stringliteral">&quot; /&gt;&quot;</span>;
<a name="l00246"></a>00246   <span class="keywordflow">return</span> $html;
<a name="l00247"></a>00247  }
<a name="l00248"></a>00248  
<a name="l00254"></a><a class="code" href="class_c_m_form.html#a5541dbf0e2b8b8725ec9a46cbc8feb60">00254</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a5541dbf0e2b8b8725ec9a46cbc8feb60" title="Create a submit button.">SubmitButton</a>($a) {
<a name="l00255"></a>00255   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00256"></a>00256   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;caption&#39;</span>]) {
<a name="l00257"></a>00257    <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;value&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00258"></a>00258     $a[<span class="stringliteral">&#39;value&#39;</span>] = $a[<span class="stringliteral">&#39;captionempty&#39;</span>];
<a name="l00259"></a>00259    <span class="keywordflow">return</span> $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="stringliteral">&#39;&amp;nbsp;&#39;</span>;
<a name="l00260"></a>00260   }
<a name="l00261"></a>00261   
<a name="l00262"></a>00262   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;name&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00263"></a>00263    $a[<span class="stringliteral">&#39;name&#39;</span>] = <span class="stringliteral">&#39;submit&#39;</span>;
<a name="l00264"></a>00264   
<a name="l00265"></a>00265   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;value&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00266"></a>00266    $a[<span class="stringliteral">&#39;value&#39;</span>] = <span class="stringliteral">&#39;Submit&#39;</span>;
<a name="l00267"></a>00267   
<a name="l00268"></a>00268   $html = <span class="stringliteral">&quot;&lt;input type=&#39;submit&#39;&quot;</span> . <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a);
<a name="l00269"></a>00269   $html .= <span class="stringliteral">&#39; value=&quot;&#39;</span> . $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00270"></a>00270   $html .= <span class="stringliteral">&quot; /&gt;&quot;</span>;
<a name="l00271"></a>00271   <span class="keywordflow">return</span> $html;
<a name="l00272"></a>00272  }
<a name="l00273"></a>00273  
<a name="l00279"></a><a class="code" href="class_c_m_form.html#ac7d9025d6f1d5980b4e2261be6ee2ba4">00279</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#ac7d9025d6f1d5980b4e2261be6ee2ba4" title="Create a form reset button.">ResetButton</a>($a) {
<a name="l00280"></a>00280   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00281"></a>00281   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;caption&#39;</span>]) {
<a name="l00282"></a>00282    <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;value&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00283"></a>00283     $a[<span class="stringliteral">&#39;value&#39;</span>] = $a[<span class="stringliteral">&#39;captionempty&#39;</span>];
<a name="l00284"></a>00284    <span class="keywordflow">return</span> $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="stringliteral">&#39;&amp;nbsp;&#39;</span>;
<a name="l00285"></a>00285   }
<a name="l00286"></a>00286   
<a name="l00287"></a>00287   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;name&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00288"></a>00288    $a[<span class="stringliteral">&#39;name&#39;</span>] = <span class="stringliteral">&#39;submit&#39;</span>;
<a name="l00289"></a>00289   
<a name="l00290"></a>00290   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;value&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00291"></a>00291    $a[<span class="stringliteral">&#39;value&#39;</span>] = <span class="stringliteral">&#39;Submit&#39;</span>;
<a name="l00292"></a>00292   
<a name="l00293"></a>00293   $html = <span class="stringliteral">&quot;&lt;input type=&#39;reset&#39;&quot;</span> . <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a);
<a name="l00294"></a>00294   $html .= <span class="stringliteral">&#39; value=&quot;&#39;</span> . $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00295"></a>00295   $html .= <span class="stringliteral">&quot; /&gt;&quot;</span>;
<a name="l00296"></a>00296   <span class="keywordflow">return</span> $html;
<a name="l00297"></a>00297  }
<a name="l00298"></a>00298  
<a name="l00306"></a><a class="code" href="class_c_m_form.html#a2fd0a11ea628e68b103b1cef8d0ea99a">00306</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a2fd0a11ea628e68b103b1cef8d0ea99a" title="Create a non-submitting button.">Button</a>($a) {
<a name="l00307"></a>00307   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00308"></a>00308   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;caption&#39;</span>]) {
<a name="l00309"></a>00309    <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;value&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00310"></a>00310     $a[<span class="stringliteral">&#39;value&#39;</span>] = $a[<span class="stringliteral">&#39;captionempty&#39;</span>];
<a name="l00311"></a>00311    <span class="keywordflow">return</span> $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="stringliteral">&#39;&amp;nbsp;&#39;</span>;
<a name="l00312"></a>00312   }
<a name="l00313"></a>00313   
<a name="l00314"></a>00314   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;name&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00315"></a>00315    $a[<span class="stringliteral">&#39;name&#39;</span>] = <span class="stringliteral">&#39;button&#39;</span>;
<a name="l00316"></a>00316   
<a name="l00317"></a>00317   $html = <span class="stringliteral">&quot;&lt;input type=&#39;submit&#39;&quot;</span> . <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a);
<a name="l00318"></a>00318   $html .= <span class="stringliteral">&#39; value=&quot;&#39;</span> . $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00319"></a>00319   $html .= <span class="stringliteral">&quot; /&gt;&quot;</span>;
<a name="l00320"></a>00320   <span class="keywordflow">return</span> $html;
<a name="l00321"></a>00321  }
<a name="l00322"></a>00322  
<a name="l00328"></a><a class="code" href="class_c_m_form.html#aacf8b065b9ea18fc98a977be6eb85e13">00328</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#aacf8b065b9ea18fc98a977be6eb85e13" title="Create a hidden field.">Hidden</a>($a) {
<a name="l00329"></a>00329   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00330"></a>00330   $html = <span class="stringliteral">&quot;&lt;input type=&#39;hidden&#39;&quot;</span> . <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a);
<a name="l00331"></a>00331   $html .= <span class="stringliteral">&#39; value=&quot;&#39;</span> . $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00332"></a>00332   $html .= <span class="stringliteral">&quot; /&gt;&quot;</span>;
<a name="l00333"></a>00333   <span class="keywordflow">return</span> $html;
<a name="l00334"></a>00334  }
<a name="l00335"></a>00335  
<a name="l00341"></a><a class="code" href="class_c_m_form.html#a3cfe321b6ef9794e10a6bc86f7055989">00341</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a3cfe321b6ef9794e10a6bc86f7055989" title="Create a password box.">PasswordBox</a>($a) {
<a name="l00342"></a>00342   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00343"></a>00343   $html = <span class="stringliteral">&quot;&lt;input type=&#39;password&#39;&quot;</span> . <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a);
<a name="l00344"></a>00344   $html .= <span class="stringliteral">&#39; value=&quot;&#39;</span> . $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00345"></a>00345   $html .= <span class="stringliteral">&quot; /&gt;&quot;</span>;
<a name="l00346"></a>00346   <span class="keywordflow">return</span> $html;
<a name="l00347"></a>00347  }
<a name="l00348"></a>00348  
<a name="l00354"></a><a class="code" href="class_c_m_form.html#a15f48d56db687516bbbf67e201034e70">00354</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a15f48d56db687516bbbf67e201034e70" title="Create a popup menu.">Menu</a>($a) {
<a name="l00355"></a>00355   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00356"></a>00356   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;caption&#39;</span>]) {
<a name="l00357"></a>00357    <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;value&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00358"></a>00358     $a[<span class="stringliteral">&#39;value&#39;</span>] = $a[<span class="stringliteral">&#39;captionempty&#39;</span>];
<a name="l00359"></a>00359    <span class="keywordflow">return</span> $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="stringliteral">&#39;&amp;nbsp;&#39;</span>;
<a name="l00360"></a>00360   }
<a name="l00361"></a>00361   $html = <span class="stringliteral">&quot;&lt;select &quot;</span> . <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a) . <span class="stringliteral">&quot;&gt;&quot;</span>;
<a name="l00362"></a>00362   <span class="keywordflow">foreach</span>($a[<span class="stringliteral">&#39;data&#39;</span>] as $d) {
<a name="l00363"></a>00363    <span class="keywordflow">if</span>(!is_array($d))
<a name="l00364"></a>00364     $d = array($d, $d);
<a name="l00365"></a>00365    $html .= <span class="stringliteral">&#39;&lt;option value=&quot;&#39;</span> . $d[0] . <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00366"></a>00366    <span class="keywordflow">if</span>($d[0] == $a[<span class="stringliteral">&#39;value&#39;</span>]) $html .= <span class="stringliteral">&#39; selected&#39;</span>;
<a name="l00367"></a>00367    $html .= <span class="charliteral">&#39;&gt;&#39;</span>;
<a name="l00368"></a>00368    <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;html&#39;</span>] === <span class="keyword">false</span>)
<a name="l00369"></a>00369     $html .= htmlspecialchars($d[1]);
<a name="l00370"></a>00370    <span class="keywordflow">else</span> $html .= $d[1];
<a name="l00371"></a>00371    $html .= <span class="stringliteral">&#39;&lt;/option&gt;&#39;</span>;
<a name="l00372"></a>00372   }
<a name="l00373"></a>00373   $html .= <span class="stringliteral">&quot;&lt;/select&gt;&quot;</span>;
<a name="l00374"></a>00374   <span class="keywordflow">return</span> $html;
<a name="l00375"></a>00375  }
<a name="l00376"></a>00376  
<a name="l00382"></a><a class="code" href="class_c_m_form.html#a117240abe236a0c688f484289fa677d4">00382</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a117240abe236a0c688f484289fa677d4" title="Create a checkbox.">Checkbox</a>($a) {
<a name="l00383"></a>00383   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00384"></a>00384   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;caption&#39;</span>]) {
<a name="l00385"></a>00385    <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;value&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00386"></a>00386     $a[<span class="stringliteral">&#39;value&#39;</span>] = $a[<span class="stringliteral">&#39;captionempty&#39;</span>];
<a name="l00387"></a>00387    <span class="keywordflow">return</span> $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="stringliteral">&#39;&amp;nbsp;&#39;</span>;
<a name="l00388"></a>00388   }
<a name="l00389"></a>00389   $html = <span class="stringliteral">&quot;&lt;input type=&#39;checkbox&#39; value=&#39;&quot;</span> . $a[<span class="stringliteral">&#39;value&#39;</span>] . <span class="stringliteral">&quot;&#39; &quot;</span> . <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a);
<a name="l00390"></a>00390   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;checked&#39;</span>] != <span class="keyword">false</span>)
<a name="l00391"></a>00391    $html .= <span class="stringliteral">&#39; checked&#39;</span>;
<a name="l00392"></a>00392   $html .= <span class="stringliteral">&quot; /&gt;&quot;</span>;
<a name="l00393"></a>00393   <span class="keywordflow">return</span> $html;
<a name="l00394"></a>00394  }
<a name="l00395"></a>00395  
<a name="l00401"></a><a class="code" href="class_c_m_form.html#a4bc73067e9cc052d2888596fe868868b">00401</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a4bc73067e9cc052d2888596fe868868b" title="Create a list box.">ListBox</a>($a) {
<a name="l00402"></a>00402   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00403"></a>00403   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;height&#39;</span>] === <span class="keyword">false</span>)
<a name="l00404"></a>00404    $a[<span class="stringliteral">&#39;height&#39;</span>] = 5;
<a name="l00405"></a>00405   $html = <span class="stringliteral">&quot;&lt;select &quot;</span> . <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a) . <span class="stringliteral">&#39; size=&quot;&#39;</span> . $a[<span class="stringliteral">&#39;height&#39;</span>] . <span class="stringliteral">&#39;&quot;&gt;&#39;</span>;
<a name="l00406"></a>00406   <span class="keywordflow">foreach</span>($a[<span class="stringliteral">&#39;data&#39;</span>] as $value =&gt; $text) {
<a name="l00407"></a>00407    $html .= <span class="stringliteral">&#39;&lt;option value=&quot;&#39;</span> . $value . <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00408"></a>00408    <span class="keywordflow">if</span>($value == $a[<span class="stringliteral">&#39;value&#39;</span>]) $html .= <span class="stringliteral">&#39; selected&#39;</span>;
<a name="l00409"></a>00409    $html .= <span class="charliteral">&#39;&gt;&#39;</span>;
<a name="l00410"></a>00410    <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;html&#39;</span>] === <span class="keyword">false</span>)
<a name="l00411"></a>00411     $html .= htmlspecialchars($text);
<a name="l00412"></a>00412    <span class="keywordflow">else</span> $html .= $text;
<a name="l00413"></a>00413    $html .= <span class="stringliteral">&#39;&lt;/option&gt;&#39;</span>;
<a name="l00414"></a>00414   }
<a name="l00415"></a>00415   $html .= <span class="stringliteral">&quot;&lt;/select&gt;&quot;</span>;
<a name="l00416"></a>00416   <span class="keywordflow">return</span> $html;
<a name="l00417"></a>00417  }
<a name="l00418"></a>00418  
<a name="l00424"></a><a class="code" href="class_c_m_form.html#a59a84e7f3e9db3ffada7c36e8111a0ae">00424</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a59a84e7f3e9db3ffada7c36e8111a0ae" title="Create a radio button set.">RadioGroup</a>($a) {
<a name="l00425"></a>00425   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00426"></a>00426   $html = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00427"></a>00427   <span class="keywordflow">foreach</span>($a[<span class="stringliteral">&#39;data&#39;</span>] as $value =&gt; $text) {
<a name="l00428"></a>00428    $html .= <span class="stringliteral">&#39;&lt;input type=&quot;radio&quot; value=&quot;&#39;</span> . $value . <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00429"></a>00429    <span class="keywordflow">if</span>($value == $a[<span class="stringliteral">&#39;value&#39;</span>]) $html .= <span class="stringliteral">&#39; checked&#39;</span>;
<a name="l00430"></a>00430    $html .= <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a) . <span class="stringliteral">&#39; /&gt;&#39;</span>;
<a name="l00431"></a>00431    <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;html&#39;</span>] === <span class="keyword">false</span>)
<a name="l00432"></a>00432     $html .= htmlspecialchars($text);
<a name="l00433"></a>00433    <span class="keywordflow">else</span> $html .= $text;
<a name="l00434"></a>00434    $html .= <span class="stringliteral">&#39;&amp;nbsp;&#39;</span>;
<a name="l00435"></a>00435   }
<a name="l00436"></a>00436   <span class="keywordflow">return</span> $html;
<a name="l00437"></a>00437  }
<a name="l00438"></a>00438  
<a name="l00444"></a><a class="code" href="class_c_m_form.html#ab76da49fb3531d1e087abdfbfaf5465b">00444</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#ab76da49fb3531d1e087abdfbfaf5465b" title="Create a checkbox set.">CheckboxGroup</a>($a) {
<a name="l00445"></a>00445   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00446"></a>00446   $html = <span class="stringliteral">&quot;&quot;</span>;
<a name="l00447"></a>00447   <span class="keywordflow">foreach</span>($a[<span class="stringliteral">&#39;data&#39;</span>] as $value =&gt; $text) {
<a name="l00448"></a>00448    $html .= <span class="stringliteral">&#39;&lt;input type=&quot;checkbox&quot; value=&quot;&#39;</span> . $value . <span class="charliteral">&#39;&quot;&#39;</span>;
<a name="l00449"></a>00449    <span class="keywordflow">if</span>(is_array($a[<span class="stringliteral">&#39;value&#39;</span>]) &amp;&amp; in_array($value, $a[<span class="stringliteral">&#39;value&#39;</span>]))
<a name="l00450"></a>00450      $html .= <span class="stringliteral">&#39; checked&#39;</span>;
<a name="l00451"></a>00451    elseif($value == $a[<span class="stringliteral">&#39;value&#39;</span>]) $html .= <span class="stringliteral">&#39; checked&#39;</span>;
<a name="l00452"></a>00452    $html .= <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a, <span class="keyword">true</span>) . <span class="stringliteral">&#39; /&gt;&#39;</span>;
<a name="l00453"></a>00453    <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;html&#39;</span>] === <span class="keyword">false</span>)
<a name="l00454"></a>00454     $html .= htmlspecialchars($text);
<a name="l00455"></a>00455    <span class="keywordflow">else</span> $html .= $text;
<a name="l00456"></a>00456    $html .= <span class="stringliteral">&#39;&amp;nbsp;&#39;</span>;
<a name="l00457"></a>00457   }
<a name="l00458"></a>00458   <span class="keywordflow">return</span> $html;
<a name="l00459"></a>00459  }
<a name="l00460"></a>00460  
<a name="l00466"></a><a class="code" href="class_c_m_form.html#a86d2d20ed424da849ed44b1636ebe51e">00466</a>  <span class="keyword">public</span> <span class="keyword">static</span> function <a class="code" href="class_c_m_form.html#a86d2d20ed424da849ed44b1636ebe51e" title="Create a text area.">TextArea</a>($a) {
<a name="l00467"></a>00467   $a = <a class="code" href="class_c_m_form.html#a77095fc1d8caf53231bbf582ecea7da2" title="Internal use.">CMForm::DefaultAttributes</a>($a);
<a name="l00468"></a>00468   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;caption&#39;</span>]) {
<a name="l00469"></a>00469    <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;value&#39;</span>] == <span class="stringliteral">&#39;&#39;</span>)
<a name="l00470"></a>00470     $a[<span class="stringliteral">&#39;value&#39;</span>] = $a[<span class="stringliteral">&#39;captionempty&#39;</span>];
<a name="l00471"></a>00471    <span class="keywordflow">return</span> nl2br($a[<span class="stringliteral">&#39;value&#39;</span>]) . <span class="stringliteral">&#39;&amp;nbsp;&#39;</span>;
<a name="l00472"></a>00472   }
<a name="l00473"></a>00473   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;height&#39;</span>] === <span class="keyword">false</span>)
<a name="l00474"></a>00474    $a[<span class="stringliteral">&#39;height&#39;</span>] = 5;
<a name="l00475"></a>00475   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;width&#39;</span>] === <span class="keyword">false</span>)
<a name="l00476"></a>00476    $a[<span class="stringliteral">&#39;width&#39;</span>] = 45;
<a name="l00477"></a>00477   $html = <span class="stringliteral">&quot;&lt;textarea&quot;</span> . <a class="code" href="class_c_m_form.html#aa45f1e3455190bd74f66db5ef417d93a" title="Internal use.">CMForm::MainAttributes</a>($a) . <span class="stringliteral">&quot; rows=\&quot;$a[height]\&quot; cols=\&quot;$a[width]\&quot; wrap=\&quot;$a[wrap]\&quot;&gt;&quot;</span>;
<a name="l00478"></a>00478   <span class="keywordflow">if</span>($a[<span class="stringliteral">&#39;html&#39;</span>] === <span class="keyword">false</span>)
<a name="l00479"></a>00479    $html .= htmlspecialchars($a[<span class="stringliteral">&#39;value&#39;</span>]);
<a name="l00480"></a>00480   <span class="keywordflow">else</span> $html .= $a[<span class="stringliteral">&#39;value&#39;</span>];
<a name="l00481"></a>00481   $html .= <span class="stringliteral">&quot;&lt;/textarea&gt;&quot;</span>;
<a name="l00482"></a>00482   <span class="keywordflow">return</span> $html;
<a name="l00483"></a>00483  }
<a name="l00484"></a>00484  
<a name="l00488"></a><a class="code" href="class_c_m_form.html#a7516ca30af0db3cdbf9a7739b48ce91d">00488</a>  <span class="keyword">public</span> function <a class="code" href="class_c_m_form.html#a7516ca30af0db3cdbf9a7739b48ce91d" title="Return the string value of this object.">__toString</a>() {
<a name="l00489"></a>00489   <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;&quot;</span> . get_class($this) . <span class="stringliteral">&quot;&gt;&quot;</span>;
<a name="l00490"></a>00490  }
<a name="l00491"></a>00491  
<a name="l00492"></a>00492 }
<a name="l00493"></a>00493 
<a name="l00494"></a>00494 ?&gt;
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
