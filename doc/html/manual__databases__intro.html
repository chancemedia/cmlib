<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CMLIB: 5.1. Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="manual.html">Manual</a>&nbsp;&raquo;&nbsp;<a class="el" href="manual__databases.html">5. Databases</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="manual_databases_intro">5.1. Introduction </a></h1><h2><a class="anchor" id="manual_databases_intro_contents">
Contents</a></h2>
<ol type="1">
<li><a class="el" href="manual__databases__intro.html#manual_databases_intro_dbs">Supported Databases</a></li>
<li><a class="el" href="manual__databases__intro.html#manual_databases_intro_interface">Database Interface</a></li>
<li><a class="el" href="manual__databases__intro.html#manual_databases_intro_features">How Can Every Database Support EVERY Feature?</a></li>
</ol>
<h2><a class="anchor" id="manual_databases_intro_dbs">
Supported Databases</a></h2>
<p>The current supported databases supported by CMLIB are: </p>
<table class="doxtable">
<tr>
<th>Name </th><th>CMLIB Class </th><th>Database Server Version </th><th>Notes  </th></tr>
<tr>
<td>MySQL </td><td><a class="el" href="class_c_m_my_s_q_l.html" title="MySQL connectivity class.">CMMySQL</a> </td><td>3.23+ </td><td><a class="el" href="class_c_m_my_s_q_l.html" title="MySQL connectivity class.">CMMySQL</a> will attempt to use the newer PHP MySQLi driver where possible, otherwise the standard MySQL driver with slightly less features will come into affect. This is transparent to the PHP coder.  </td></tr>
<tr>
<td>Oracle </td><td><a class="el" href="class_c_m_oracle.html" title="Oracle Database connectivity.">CMOracle</a> </td><td>8i and above </td><td>&nbsp;  </td></tr>
<tr>
<td>PostgreSQL </td><td><a class="el" href="class_c_m_postgre_s_q_l.html" title="PostgreSQL connectivity class.">CMPostgreSQL</a> </td><td>6.5 and above </td><td>PostgreSQL 8.0+ required for extra module features.  </td></tr>
</table>
<h2><a class="anchor" id="manual_databases_intro_interface">
Database Interface</a></h2>
<p>CMLIB has two primary interfaces <a class="el" href="interface_c_m_database_protocol.html" title="All database connectivity classes implement this interface.">CMDatabaseProtocol</a> and <a class="el" href="interface_c_m_query_protocol.html" title="Database query interface.">CMQueryProtocol</a> that make database communication and functionality as consistent as possible throughout all the support database engines. If you are unfamilar with this concept (like JDBC) it is easiest to explain with examples further through this manual.</p>
<h2><a class="anchor" id="manual_databases_intro_features">
How Can Every Database Support EVERY Feature?</a></h2>
<p>Simple answer - it can't.</p>
<p>Longer answer - as part of the <a class="el" href="interface_c_m_database_protocol.html" title="All database connectivity classes implement this interface.">CMDatabaseProtocol</a> and <a class="el" href="interface_c_m_query_protocol.html" title="Database query interface.">CMQueryProtocol</a> there is a method in each called availableMethods(). You can use this to test if any method at any point in time is supported by the database engine: </p>
<div class="fragment"><pre class="fragment"> $features = $dbh-&gt;availableMethods();
 <span class="keywordflow">if</span>(in_array($features, <span class="stringliteral">&#39;getDatabaseTables&#39;</span>))
   $q = $dbh-&gt;getDatabaseTables();
 <span class="keywordflow">else</span> echo <span class="stringliteral">&quot;Uh-oh, getDatabaseTables() has not been implemented for &quot;</span> . $dbh-&gt;engine();
</pre></div><p>The same applies with the query handle: </p>
<div class="fragment"><pre class="fragment"> $q = $dbh-&gt;query(<span class="stringliteral">&quot;select * from mytable&quot;</span>);
 <span class="keywordflow">if</span>(!in_array(<span class="stringliteral">&#39;totalRows&#39;</span>, $q-&gt;availableMethods()))
   echo <span class="stringliteral">&quot;Hmm, we can&#39;t get the total rows for this query. It may be a cursor of some sort?&quot;</span>;
</pre></div><p>You can get more information about each method by looking at the specific documentation, for example CMMySQL::totalRows(). Or, for a more technical approach you can see which classes conform to the protocols at <a class="el" href="interface_c_m_database_protocol.html#cmdatabaseprotocol_driver">Database Driver Implementation</a>. </p>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
