<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>CMLIB: CMDatabaseProtocol Interface Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&nbsp;Structure&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&nbsp;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CMDatabaseProtocol Interface Reference</h1><!-- doxytag: class="CMDatabaseProtocol" --><!-- doxytag: inherits="CMClass" -->
<p>All database connectivity classes implement this interface.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for CMDatabaseProtocol:</div>
<div class="dynsection">
 <div class="center">
  <img src="interface_c_m_database_protocol.png" usemap="#CMDatabaseProtocol_map" alt=""/>
  <map id="CMDatabaseProtocol_map" name="CMDatabaseProtocol_map">
<area href="interface_c_m_class.html" alt="CMClass" shape="rect" coords="142,0,274,24"/>
<area href="class_c_m_my_s_q_l.html" alt="CMMySQL" shape="rect" coords="0,112,132,136"/>
<area href="class_c_m_oracle.html" alt="CMOracle" shape="rect" coords="142,112,274,136"/>
<area href="class_c_m_postgre_s_q_l.html" alt="CMPostgreSQL" shape="rect" coords="284,112,416,136"/>
</map>
 </div>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#aa45cf2b82a91150a11cd11fa0bf2847c">availableMethods</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List the methods implemented by this database protocol.  <a href="#aa45cf2b82a91150a11cd11fa0bf2847c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#af5674c27d4a92f6228565010eacbb9cb">commit</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Commit transaction.  <a href="#af5674c27d4a92f6228565010eacbb9cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a2415ba06f043f104ed33b9571f200fc8">delete</a> ($tableName, $criteria=false, $a=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><code>DELETE</code> statement.  <a href="#a2415ba06f043f104ed33b9571f200fc8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a18a087f04157464ca9e96af805da4e8c">describeTable</a> ($tableName, $a=array())</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Describe the columns in a table.  <a href="#a18a087f04157464ca9e96af805da4e8c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#abe175fcf658475bc56e9d6fa02bc88ec">disconnect</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Disconnect database handle.  <a href="#abe175fcf658475bc56e9d6fa02bc88ec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a8147e0a0a8e607106004e2571195e01c">engine</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The name of the database.  <a href="#a8147e0a0a8e607106004e2571195e01c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a7e4edd82127e0c6a2f42158fdbb258d3">eraseTable</a> ($tableName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erase (not truncate) a table.  <a href="#a7e4edd82127e0c6a2f42158fdbb258d3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a2c521548fb2e9d535673e11208bd5f6c">escapeEntity</a> ($str)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape an entity based on the correct rules of the database engine.  <a href="#a2c521548fb2e9d535673e11208bd5f6c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a2d931763c47d46ab7c26ba4e69d969d7">escapeString</a> ($str)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape a string based on the correct rules of the database engine.  <a href="#a2d931763c47d46ab7c26ba4e69d969d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a13148537025768f2373012227785c540">execute</a> ($sql, $values=false, $a=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute a query (no query handle returned.).  <a href="#a13148537025768f2373012227785c540"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a7327ec53765f61a4a9d715133d2ea2db">getAutoCommit</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the auto commit status.  <a href="#a7327ec53765f61a4a9d715133d2ea2db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#aea9c1153e0e0fc135f8d513263bf9201">getDatabaseNames</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns and array of database names.  <a href="#aea9c1153e0e0fc135f8d513263bf9201"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a7cf4f2839a152f2c11f5893c640c19dd">getSchemaNames</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns and array of schema names.  <a href="#a7cf4f2839a152f2c11f5893c640c19dd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a36b890fb5812fc1247b8afe7d56e72ea">getTableNames</a> ($schema=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fetch the list of tables in the active database.  <a href="#a36b890fb5812fc1247b8afe7d56e72ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a6502927265740994ba9898d919f17cdd">insert</a> ($tableName, $kv=false, $a=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generate and execute an <code>INSERT</code> statement.  <a href="#a6502927265740994ba9898d919f17cdd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#af160f7fbbf281d018ae3162521b8267d">isConnected</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if the database is currently active.  <a href="#af160f7fbbf281d018ae3162521b8267d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#ad3c2efe6828834aadd7cbe990e502645">loadSQLFile</a> ($path, $a=array())</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Load a SQL file into the current connection.  <a href="#ad3c2efe6828834aadd7cbe990e502645"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#a4ced4e9cc5497c475c2cd1a03318f45a">query</a> ($sql, $values=false, $a=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform a query.  <a href="#a4ced4e9cc5497c475c2cd1a03318f45a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#afa549adf79e3f8c09fe8f903dd5fbfa7">rollback</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Rolls back current transaction.  <a href="#afa549adf79e3f8c09fe8f903dd5fbfa7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#af569120fcd4d04f33780d9c10daf144c">setAutoCommit</a> ($mode=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Turn on/off auto commit.  <a href="#af569120fcd4d04f33780d9c10daf144c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#ae7cdaa744d52a1eb0103e377023ca528">tableExists</a> ($table)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if a table exists.  <a href="#ae7cdaa744d52a1eb0103e377023ca528"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#aff013143f73f33653e2f60fecbde00cb">truncateTable</a> ($tableName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Truncate (not erase) a table.  <a href="#aff013143f73f33653e2f60fecbde00cb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_c_m_database_protocol.html#ac32a7f2a2c349c061f600bc0ac2fec86">update</a> ($tableName, $newvalues, $criteria=false, $a=false)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><code>UPDATE</code> statement.  <a href="#ac32a7f2a2c349c061f600bc0ac2fec86"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>All database connectivity classes implement this interface. </p>
<h2><a class="anchor" id="cmdatabaseprotocol_desc">
Description</a></h2>
<p>As classes are not required to implement all interface methods, you may use <a class="el" href="interface_c_m_database_protocol.html#aa45cf2b82a91150a11cd11fa0bf2847c" title="List the methods implemented by this database protocol.">availableMethods()</a> to see which methods work with that database class like: </p>
<div class="fragment"><pre class="fragment"> $features = $dbh-&gt;availableMethods();
 <span class="keywordflow">if</span>(in_array($features, <span class="stringliteral">&#39;getDatabaseTables&#39;</span>))
   $q = $dbh-&gt;getDatabaseTables();
 <span class="keywordflow">else</span>
   echo <span class="stringliteral">&quot;Uh-oh, getDatabaseTables() has not been implemented for &quot;</span> . $dbh-&gt;engine();
</pre></div><h2><a class="anchor" id="cmdatabaseprotocol_usage">
Usage</a></h2>
<p>The interface can be inherited from but performs no action or purpose on it own.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_c_m_my_s_q_l.html" title="MySQL connectivity class.">CMMySQL</a> </dd>
<dd>
<a class="el" href="class_c_m_postgre_s_q_l.html" title="PostgreSQL connectivity class.">CMPostgreSQL</a> </dd>
<dd>
<a class="el" href="class_c_m_oracle.html" title="Oracle Database connectivity.">CMOracle</a></dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Elliot Chance </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>1.0 </dd></dl>

<p>Definition at line <a class="el" href="_c_m_database_protocol_8php_source.html#l00031">31</a> of file <a class="el" href="_c_m_database_protocol_8php_source.html">CMDatabaseProtocol.php</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa45cf2b82a91150a11cd11fa0bf2847c"></a><!-- doxytag: member="CMDatabaseProtocol::availableMethods" ref="aa45cf2b82a91150a11cd11fa0bf2847c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">availableMethods </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List the methods implemented by this database protocol. </p>
<div class="fragment"><pre class="fragment"> $features = $dbh-&gt;availableMethods();
 <span class="keywordflow">if</span>(in_array($features, <span class="stringliteral">&#39;getDatabaseTables&#39;</span>))
   $q = $dbh-&gt;getDatabaseTables();
 <span class="keywordflow">else</span> echo <span class="stringliteral">&quot;Uh-oh, getDatabaseTables() has not been implemented for {$dbh-&gt;engine()}&quot;</span>;
</pre></div><dl class="return"><dt><b>Returns:</b></dt><dd>An array of bare method names. </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#aa45cf2b82a91150a11cd11fa0bf2847c">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#aa45cf2b82a91150a11cd11fa0bf2847c">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#aa45cf2b82a91150a11cd11fa0bf2847c">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="af5674c27d4a92f6228565010eacbb9cb"></a><!-- doxytag: member="CMDatabaseProtocol::commit" ref="af5674c27d4a92f6228565010eacbb9cb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">commit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Commit transaction. </p>
<p>Commit a transaction. In most cases you will have to turn autocommit off before passing your SQL stataments with setAutoCommit(false).</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This method will still return <span style="color: MediumBlue"><code>true</code></span> for engines that are not transactional.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>true</code></span> on success, <span style="color: MediumBlue"><code>false</code></span> if the transaction could not be commited. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#af569120fcd4d04f33780d9c10daf144c" title="Turn on/off auto commit.">setAutoCommit()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#af5674c27d4a92f6228565010eacbb9cb">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#af5674c27d4a92f6228565010eacbb9cb">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#af5674c27d4a92f6228565010eacbb9cb">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a2415ba06f043f104ed33b9571f200fc8"></a><!-- doxytag: member="CMDatabaseProtocol::delete" ref="a2415ba06f043f104ed33b9571f200fc8" args="($tableName, $criteria=false, $a=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">delete </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>criteria</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>a</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><code>DELETE</code> statement. </p>
<p>See the full description at <a class="el" href="manual__databases__iud.html#manual_databases_iud_delete">Deleting data</a>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function can return 0 affected rows even when the the SQL was successful. To test if the statament actually executed successfully use: <div class="fragment"><pre class="fragment">       <span class="keywordflow">if</span>($dbh-&gt;delete(...) === <span class="keyword">false</span>)
         die(<span class="stringliteral">&quot;SQL failed&quot;</span>);
</pre></div></dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$tableName</em>&nbsp;</td><td>The name of the table. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$criteria</em>&nbsp;</td><td>An associative array of items to filter the <code>WHERE</code> clause with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$a</em>&nbsp;</td><td>Extra options. </td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#a4ced4e9cc5497c475c2cd1a03318f45a" title="Perform a query.">query()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#a13148537025768f2373012227785c540" title="Execute a query (no query handle returned.).">execute()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#ac32a7f2a2c349c061f600bc0ac2fec86" title="UPDATE statement.">update()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#a6502927265740994ba9898d919f17cdd" title="Generate and execute an INSERT statement.">insert()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a2415ba06f043f104ed33b9571f200fc8">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a2415ba06f043f104ed33b9571f200fc8">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a2415ba06f043f104ed33b9571f200fc8">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a18a087f04157464ca9e96af805da4e8c"></a><!-- doxytag: member="CMDatabaseProtocol::describeTable" ref="a18a087f04157464ca9e96af805da4e8c" args="($tableName, $a=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">describeTable </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>a</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Describe the columns in a table. </p>
<p>The result is based on the SQL standard information_schema. Using the following table as an example: </p>
<pre>
 CREATE TABLE mytable (
   id integer default 0,
   sometext varchar(255) not null
 );
 </pre><p>The result of <code>information_schema.columns</code> may look like this (table has been split): </p>
<table class="doxtable">
<tr>
<th>table_catalog </th><th>table_schema </th><th>table_name </th><th>column_name </th><th>ordinal_position </th><th>column_default  </th></tr>
<tr>
<td>postgres  </td><td>public  </td><td>mytable  </td><td>id  </td><td>1 </td><td>0   </td></tr>
<tr>
<td>postgres  </td><td>public  </td><td>mytable  </td><td>sometext  </td><td>2 </td><td></td></tr>
</table>
<table class="doxtable">
<tr>
<th>is_nullable </th><th>data_type </th><th>character_maximum_length </th><th>character_octet_length </th><th>numeric_precision  </th></tr>
<tr>
<td>YES  </td><td>integer  </td><td></td><td></td><td>32  </td></tr>
<tr>
<td>NO </td><td>character varying </td><td>255 </td><td>1073741824 </td><td></td></tr>
</table>
<table class="doxtable">
<tr>
<th>numeric_precision_radix </th><th>numeric_scale </th><th>datetime_precision </th><th>interval_type </th><th>interval_precision  </th></tr>
<tr>
<td>2 </td><td>0 </td><td></td><td></td><td></td></tr>
<tr>
<td>&nbsp; </td><td></td><td></td><td></td><td></td></tr>
</table>
<table class="doxtable">
<tr>
<th>character_set_catalog </th><th>character_set_schema </th><th>character_set_name </th><th>collation_catalog </th><th>collation_schema  </th></tr>
<tr>
<td>&nbsp; </td><td></td><td></td><td></td><td></td></tr>
<tr>
<td>&nbsp; </td><td></td><td></td><td></td><td></td></tr>
</table>
<table class="doxtable">
<tr>
<th>collation_name </th><th>domain_catalog </th><th>domain_schema </th><th>domain_name </th><th>udt_catalog </th><th>udt_schema </th><th>udt_name  </th></tr>
<tr>
<td></td><td>&nbsp; </td><td></td><td></td><td>postgres  </td><td>pg_catalog </td><td>int4   </td></tr>
<tr>
<td></td><td>&nbsp; </td><td></td><td></td><td>postgres  </td><td>pg_catalog </td><td>varchar   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>scope_catalog </th><th>scope_schema </th><th>scope_name </th><th>maximum_cardinality </th><th>dtd_identifier </th><th>is_self_referencing  </th></tr>
<tr>
<td></td><td>&nbsp; </td><td></td><td></td><td>1  </td><td>NO   </td></tr>
<tr>
<td></td><td>&nbsp; </td><td></td><td></td><td>2  </td><td>NO   </td></tr>
</table>
<table class="doxtable">
<tr>
<th>is_identity </th><th>identity_generation </th><th>identity_start </th><th>identity_increment </th><th>identity_maximum  </th></tr>
<tr>
<td>NO  </td><td>&nbsp; </td><td></td><td></td><td></td></tr>
<tr>
<td>NO  </td><td>&nbsp; </td><td></td><td></td><td></td></tr>
</table>
<table class="doxtable">
<tr>
<th>identity_minimum </th><th>identity_cycle </th><th>is_generated </th><th>generation_expression </th><th>is_updatable  </th></tr>
<tr>
<td></td><td></td><td>NEVER </td><td></td><td>YES  </td></tr>
<tr>
<td></td><td></td><td>NEVER </td><td></td><td>YES  </td></tr>
</table>
<p>The array returned contains all off the above attributes that can be accessed through the column number or the column name. </p>
<div class="fragment"><pre class="fragment"> print_r($dbh-&gt;describeTable(<span class="stringliteral">&quot;mytable&quot;</span>));
</pre></div><pre>
 Array (
   [0] =&gt; Array (
     [table_catalog] =&gt; postgres
     [table_schema] =&gt; public
     [table_name] =&gt; mytable
     [column_name] =&gt; id
     ...
   ),
   [1] =&gt; Array (
     [table_catalog] =&gt; postgres
     [table_schema] =&gt; public
     [table_name] =&gt; mytable
     [column_name] =&gt; sometext
     ...
   ),
   [id] =&gt; Array (
     [table_catalog] =&gt; postgres
     [table_schema] =&gt; public
     [table_name] =&gt; mytable
     [column_name] =&gt; id
     ...
   ),
   [sometext] =&gt; Array (
     [table_catalog] =&gt; postgres
     [table_schema] =&gt; public
     [table_name] =&gt; mytable
     [column_name] =&gt; sometext
     ...
   )
 )
 </pre><dl class="return"><dt><b>Returns:</b></dt><dd>An array as described above. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$tableName</em>&nbsp;</td><td>The name of the table. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$a</em>&nbsp;</td><td>Extra attributes. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a18a087f04157464ca9e96af805da4e8c">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a18a087f04157464ca9e96af805da4e8c">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a15d73ad66217294a3d22361d57058e9e">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="abe175fcf658475bc56e9d6fa02bc88ec"></a><!-- doxytag: member="CMDatabaseProtocol::disconnect" ref="abe175fcf658475bc56e9d6fa02bc88ec" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">disconnect </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Disconnect database handle. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>true</code></span> is disconnect is possible, <span style="color: MediumBlue"><code>false</code></span> is for some reason the action could not be taken. </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#abe175fcf658475bc56e9d6fa02bc88ec">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#abe175fcf658475bc56e9d6fa02bc88ec">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#abe175fcf658475bc56e9d6fa02bc88ec">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a8147e0a0a8e607106004e2571195e01c"></a><!-- doxytag: member="CMDatabaseProtocol::engine" ref="a8147e0a0a8e607106004e2571195e01c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">engine </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The name of the database. </p>
<p>This is the name of the database product rather than a singular storage engine inside it.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The name of the database product. </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a8147e0a0a8e607106004e2571195e01c">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a8147e0a0a8e607106004e2571195e01c">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a8147e0a0a8e607106004e2571195e01c">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a7e4edd82127e0c6a2f42158fdbb258d3"></a><!-- doxytag: member="CMDatabaseProtocol::eraseTable" ref="a7e4edd82127e0c6a2f42158fdbb258d3" args="($tableName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">eraseTable </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erase (not truncate) a table. </p>
<p>Erasing a table removes all the entries of the table without affecting any sequences or auto incrementing columns. It is effectivly: </p>
<div class="fragment"><pre class="fragment"> DELETE FROM $tableName WHERE 1;
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$tableName</em>&nbsp;</td><td>The name of the table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>true</code></span> for success, otherwise <span style="color: MediumBlue"><code>false</code></span> (such as if the table doesn't exist or you do not have adequate privileges.) </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#aff013143f73f33653e2f60fecbde00cb" title="Truncate (not erase) a table.">truncateTable()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a7e4edd82127e0c6a2f42158fdbb258d3">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a7e4edd82127e0c6a2f42158fdbb258d3">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a7e4edd82127e0c6a2f42158fdbb258d3">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a2c521548fb2e9d535673e11208bd5f6c"></a><!-- doxytag: member="CMDatabaseProtocol::escapeEntity" ref="a2c521548fb2e9d535673e11208bd5f6c" args="($str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">escapeEntity </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>str</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Escape an entity based on the correct rules of the database engine. </p>
<p>An entity is a table name, view name, column name, etc. Most databases require a different quote encapsulation than <a class="el" href="interface_c_m_database_protocol.html#a2d931763c47d46ab7c26ba4e69d969d7" title="Escape a string based on the correct rules of the database engine.">escapeString()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$str</em>&nbsp;</td><td>The value to be escaped. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Escaped entity which includes and quotes or encapsulation. </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a2c521548fb2e9d535673e11208bd5f6c">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a2c521548fb2e9d535673e11208bd5f6c">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a2c521548fb2e9d535673e11208bd5f6c">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a2d931763c47d46ab7c26ba4e69d969d7"></a><!-- doxytag: member="CMDatabaseProtocol::escapeString" ref="a2d931763c47d46ab7c26ba4e69d969d7" args="($str)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">escapeString </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>str</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Escape a string based on the correct rules of the database engine. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$str</em>&nbsp;</td><td>The value to be escaped. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Escaped string that does not include surrounding quotes. </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a2d931763c47d46ab7c26ba4e69d969d7">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a2d931763c47d46ab7c26ba4e69d969d7">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a2d931763c47d46ab7c26ba4e69d969d7">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a13148537025768f2373012227785c540"></a><!-- doxytag: member="CMDatabaseProtocol::execute" ref="a13148537025768f2373012227785c540" args="($sql, $values=false, $a=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">execute </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>values</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>a</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Execute a query (no query handle returned.). </p>
<p>Perform a query on the database that does not return a handle.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>For actions that do require a result use <a class="el" href="interface_c_m_database_protocol.html#a4ced4e9cc5497c475c2cd1a03318f45a" title="Perform a query.">query()</a>.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$sql</em>&nbsp;</td><td>SQL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$values</em>&nbsp;</td><td>An associative array of keys that represent field names and their respective values. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$a</em>&nbsp;</td><td>An associative array of server options for the query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>true</code></span> on success, otherwise <span style="color: MediumBlue"><code>false</code></span>. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#a4ced4e9cc5497c475c2cd1a03318f45a" title="Perform a query.">query()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#a6502927265740994ba9898d919f17cdd" title="Generate and execute an INSERT statement.">insert()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a13148537025768f2373012227785c540">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a13148537025768f2373012227785c540">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a13148537025768f2373012227785c540">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a7327ec53765f61a4a9d715133d2ea2db"></a><!-- doxytag: member="CMDatabaseProtocol::getAutoCommit" ref="a7327ec53765f61a4a9d715133d2ea2db" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getAutoCommit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the auto commit status. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>true</code></span> or <span style="color: MediumBlue"><code>false</code></span>. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#af569120fcd4d04f33780d9c10daf144c" title="Turn on/off auto commit.">setAutoCommit()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a7327ec53765f61a4a9d715133d2ea2db">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a7327ec53765f61a4a9d715133d2ea2db">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a7327ec53765f61a4a9d715133d2ea2db">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="aea9c1153e0e0fc135f8d513263bf9201"></a><!-- doxytag: member="CMDatabaseProtocol::getDatabaseNames" ref="aea9c1153e0e0fc135f8d513263bf9201" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getDatabaseNames </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns and array of database names. </p>
<p>For databases that do not support schemas (eg MySQL) this method will give the same result as <a class="el" href="interface_c_m_database_protocol.html#a7cf4f2839a152f2c11f5893c640c19dd" title="Returns and array of schema names.">getSchemaNames()</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A simple array of database names not quoted or encapsulated. If the list of databases cannot be retrieved then <span style="color: MediumBlue"><code>false</code></span> is returned. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#a36b890fb5812fc1247b8afe7d56e72ea" title="Fetch the list of tables in the active database.">getTableNames()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#a7cf4f2839a152f2c11f5893c640c19dd" title="Returns and array of schema names.">getSchemaNames()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#aea9c1153e0e0fc135f8d513263bf9201">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#aea9c1153e0e0fc135f8d513263bf9201">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#aea9c1153e0e0fc135f8d513263bf9201">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a7cf4f2839a152f2c11f5893c640c19dd"></a><!-- doxytag: member="CMDatabaseProtocol::getSchemaNames" ref="a7cf4f2839a152f2c11f5893c640c19dd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getSchemaNames </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns and array of schema names. </p>
<p>For databases that do not support schemas (eg MySQL) this method will give the same result as <a class="el" href="interface_c_m_database_protocol.html#aea9c1153e0e0fc135f8d513263bf9201" title="Returns and array of database names.">getDatabaseNames()</a>.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A simple array of schema names not quoted or encapsulated. If the list of databases cannot be retrieved then <span style="color: MediumBlue"><code>false</code></span> is returned. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#a36b890fb5812fc1247b8afe7d56e72ea" title="Fetch the list of tables in the active database.">getTableNames()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#aea9c1153e0e0fc135f8d513263bf9201" title="Returns and array of database names.">getDatabaseNames()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a7cf4f2839a152f2c11f5893c640c19dd">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a7cf4f2839a152f2c11f5893c640c19dd">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a7cf4f2839a152f2c11f5893c640c19dd">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a36b890fb5812fc1247b8afe7d56e72ea"></a><!-- doxytag: member="CMDatabaseProtocol::getTableNames" ref="a36b890fb5812fc1247b8afe7d56e72ea" args="($schema=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">getTableNames </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>schema</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fetch the list of tables in the active database. </p>
<p>Fetch the list of tables in the active database, for the database engines that support schemas as well the values returned will be: </p>
<div class="fragment"><pre class="fragment"> array(<span class="stringliteral">&#39;schema1.table1&#39;</span>, <span class="stringliteral">&#39;schema1.table2&#39;</span>, <span class="stringliteral">&#39;schema2.table1&#39;</span>); <span class="comment">// PostgreSQL</span>
 array(<span class="stringliteral">&#39;table1&#39;</span>, <span class="stringliteral">&#39;table2&#39;</span>, <span class="stringliteral">&#39;table3&#39;</span>);                         <span class="comment">// MySQL</span>
</pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$schema</em>&nbsp;</td><td>For databases that support schemas this will only return the tables that belong to that schema. It can be omitted to get all tables. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An array of tables similar to the example shown above. If the method fails or the list of tables could not be retrieved <span style="color: MediumBlue"><code>false</code></span> is returned. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#ae7cdaa744d52a1eb0103e377023ca528" title="Check if a table exists.">tableExists()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#aea9c1153e0e0fc135f8d513263bf9201" title="Returns and array of database names.">getDatabaseNames()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a36b890fb5812fc1247b8afe7d56e72ea">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a36b890fb5812fc1247b8afe7d56e72ea">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a36b890fb5812fc1247b8afe7d56e72ea">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a6502927265740994ba9898d919f17cdd"></a><!-- doxytag: member="CMDatabaseProtocol::insert" ref="a6502927265740994ba9898d919f17cdd" args="($tableName, $kv=false, $a=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">insert </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>kv</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>a</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Generate and execute an <code>INSERT</code> statement. </p>
<p>See the full description at <a class="el" href="manual__databases__iud.html#manual_databases_iud_insert">Inserting data</a>.</p>
<p>This uses a key-value paired array to construct an <code>INSERT</code> statement like: </p>
<div class="fragment"><pre class="fragment"> $dbh-&gt;insert(<span class="stringliteral">&#39;mytable&#39;</span>, array(<span class="charliteral">&#39;a&#39;</span> =&gt; <span class="stringliteral">&#39;Something&#39;</span>, <span class="charliteral">&#39;b&#39;</span> =&gt; 123.45));
</pre></div><p>Will produce and execute the following SQL: </p>
<div class="fragment"><pre class="fragment"> <a class="code" href="interface_c_m_database_protocol.html#a6502927265740994ba9898d919f17cdd" title="Generate and execute an INSERT statement.">insert</a> into mytable (a, b) values (&#39;Something&#39;, &#39;123.45&#39;)
</pre></div><dl class="note"><dt><b>Note:</b></dt><dd>This function can return 0 even when the the SQL was successful. To test if the statament actually executed successfully use: <div class="fragment"><pre class="fragment">       <span class="keywordflow">if</span>($dbh-&gt;insert(...) === <span class="keyword">false</span>)
         die(<span class="stringliteral">&quot;SQL failed&quot;</span>);
</pre></div></dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$tableName</em>&nbsp;</td><td>The name of the table to <code>INSERT</code> into. This is directly substituted into the SQL using a safe entity name - that is, for example <code>"Table"</code> for PostgreSQL, <code>`Table`</code> for MySQL etc. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$kv</em>&nbsp;</td><td>An associative array of keys that represent field names and their respective values. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$a</em>&nbsp;</td><td>An associative array of database specific options for the query. If this is available for any particular database, see the documentation for that subclass. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If the query was successful the insert ID of the record will be returned. If the query failed <span style="color: MediumBlue"><code>false</code></span> is returned. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#a4ced4e9cc5497c475c2cd1a03318f45a" title="Perform a query.">query()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#a13148537025768f2373012227785c540" title="Execute a query (no query handle returned.).">execute()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#ac32a7f2a2c349c061f600bc0ac2fec86" title="UPDATE statement.">update()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#a2415ba06f043f104ed33b9571f200fc8" title="DELETE statement.">delete()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a6502927265740994ba9898d919f17cdd">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a0f4b4455d44a47a695e4c6cf96488242">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a0f4b4455d44a47a695e4c6cf96488242">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="af160f7fbbf281d018ae3162521b8267d"></a><!-- doxytag: member="CMDatabaseProtocol::isConnected" ref="af160f7fbbf281d018ae3162521b8267d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">isConnected </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if the database is currently active. </p>
<p>Ping or otherwise check if the connection is still alive. If this function is not implemented in the subclass or the database has lost connection <span style="color: MediumBlue"><code>false</code></span> will be returned. Otherwise <span style="color: MediumBlue"><code>true</code></span> will be returned.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>true</code></span> if the current connection is still active, otherwise <span style="color: MediumBlue"><code>false</code></span>. </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#af160f7fbbf281d018ae3162521b8267d">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#af160f7fbbf281d018ae3162521b8267d">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#af160f7fbbf281d018ae3162521b8267d">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="ad3c2efe6828834aadd7cbe990e502645"></a><!-- doxytag: member="CMDatabaseProtocol::loadSQLFile" ref="ad3c2efe6828834aadd7cbe990e502645" args="($path, $a=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">loadSQLFile </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>a</em> = <code>array()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load a SQL file into the current connection. </p>
<p>This will read the input file one command at a time (skipping comments) and execute the statements. If a statement fails an error will be pushed but the loading will not stop. You can review all of the errors after it's complete with isErrors() and errors().</p>
<p>As one command is loaded in at a time this will work on very large SQL files.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$path</em>&nbsp;</td><td>The relative or absolute path to the SQL file. The file does not have to have a .sql extension and can even be remote through a URI that PHP's fopen() can understand. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$a</em>&nbsp;</td><td>Associative array of options. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>true</code></span> if ALL the statements executed successfully, otherwise <span style="color: MediumBlue"><code>false</code></span>. Will also return <span style="color: MediumBlue"><code>false</code></span> is the input file could not be opened. </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#ad3c2efe6828834aadd7cbe990e502645">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#ad3c2efe6828834aadd7cbe990e502645">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#ad3c2efe6828834aadd7cbe990e502645">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="a4ced4e9cc5497c475c2cd1a03318f45a"></a><!-- doxytag: member="CMDatabaseProtocol::query" ref="a4ced4e9cc5497c475c2cd1a03318f45a" args="($sql, $values=false, $a=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">query </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>values</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>a</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Perform a query. </p>
<p>Perform a query on the database that returns a handle to iterate the results. For actions that do not require a result use <a class="el" href="interface_c_m_database_protocol.html#a13148537025768f2373012227785c540" title="Execute a query (no query handle returned.).">execute()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$sql</em>&nbsp;</td><td>SQL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$values</em>&nbsp;</td><td>An associative array of keys that represent field names and their respective values. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$a</em>&nbsp;</td><td>An associative array of server options for the query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Query handle. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#a13148537025768f2373012227785c540" title="Execute a query (no query handle returned.).">execute()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#a6502927265740994ba9898d919f17cdd" title="Generate and execute an INSERT statement.">insert()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#a4ced4e9cc5497c475c2cd1a03318f45a">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#a4ced4e9cc5497c475c2cd1a03318f45a">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#a4ced4e9cc5497c475c2cd1a03318f45a">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="afa549adf79e3f8c09fe8f903dd5fbfa7"></a><!-- doxytag: member="CMDatabaseProtocol::rollback" ref="afa549adf79e3f8c09fe8f903dd5fbfa7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rollback </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Rolls back current transaction. </p>
<p>Somewhat opposite to the <a class="el" href="interface_c_m_database_protocol.html#af5674c27d4a92f6228565010eacbb9cb" title="Commit transaction.">commit()</a> function, this allows a transaction to be rolled back.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>In most cases you must remember to turn autocommit off or else <a class="el" href="interface_c_m_database_protocol.html#afa549adf79e3f8c09fe8f903dd5fbfa7" title="Rolls back current transaction.">rollback()</a> will not have a transaction to rollback on.</dd>
<dd>
This method will still return <span style="color: MediumBlue"><code>true</code></span> for engines that are not transactional.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>true</code></span> on success, <span style="color: MediumBlue"><code>false</code></span> if the transaction could not be rolled back. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#af569120fcd4d04f33780d9c10daf144c" title="Turn on/off auto commit.">setAutoCommit()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#afa549adf79e3f8c09fe8f903dd5fbfa7">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#afa549adf79e3f8c09fe8f903dd5fbfa7">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#afa549adf79e3f8c09fe8f903dd5fbfa7">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="af569120fcd4d04f33780d9c10daf144c"></a><!-- doxytag: member="CMDatabaseProtocol::setAutoCommit" ref="af569120fcd4d04f33780d9c10daf144c" args="($mode=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setAutoCommit </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>mode</em> = <code>false</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Turn on/off auto commit. </p>
<p>For tranactional database engines. This is used for manual commiting, when inserting large sets of data or snapshot information its is recommented you turn autocommit off and manually commit the transaction. This will be faster and more consistent.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$mode</em>&nbsp;</td><td>Can be any value that will be evaluated to <span style="color: MediumBlue"><code>true</code></span> or <span style="color: MediumBlue"><code>false</code></span> according to the rules of PHP and the type of argument provided. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>true</code></span> if the change was made/available, otherwise <span style="color: MediumBlue"><code>false</code></span>. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#a7327ec53765f61a4a9d715133d2ea2db" title="Return the auto commit status.">getAutoCommit()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#af569120fcd4d04f33780d9c10daf144c">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#af569120fcd4d04f33780d9c10daf144c">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#af569120fcd4d04f33780d9c10daf144c">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="ae7cdaa744d52a1eb0103e377023ca528"></a><!-- doxytag: member="CMDatabaseProtocol::tableExists" ref="ae7cdaa744d52a1eb0103e377023ca528" args="($table)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tableExists </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>table</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if a table exists. </p>
<p>Returns <span style="color: MediumBlue"><code>true</code></span> if the table exists in the currently active database, otherwise <span style="color: MediumBlue"><code>false</code></span>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$table</em>&nbsp;</td><td>The name of the table, this should not be quoted or encapsulated and may contain the name of the schema before it. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>true</code></span> if the table exists, otherwise <span style="color: MediumBlue"><code>false</code></span>. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#a36b890fb5812fc1247b8afe7d56e72ea" title="Fetch the list of tables in the active database.">getTableNames()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#ae7cdaa744d52a1eb0103e377023ca528">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#ae7cdaa744d52a1eb0103e377023ca528">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#ae7cdaa744d52a1eb0103e377023ca528">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="aff013143f73f33653e2f60fecbde00cb"></a><!-- doxytag: member="CMDatabaseProtocol::truncateTable" ref="aff013143f73f33653e2f60fecbde00cb" args="($tableName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">truncateTable </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Truncate (not erase) a table. </p>
<p>Truncate will not only delete the data in the table but also reset any sequences and auto incrementing columns. It is equivilent to cascade drop then recreate the tables and sequences.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$tableName</em>&nbsp;</td><td>The name of the table. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>true</code></span> for success, otherwise <span style="color: MediumBlue"><code>false</code></span> (such as if the table doesn't exist or you do not have adequate privileges.) </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#a7e4edd82127e0c6a2f42158fdbb258d3" title="Erase (not truncate) a table.">eraseTable()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#aff013143f73f33653e2f60fecbde00cb">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#aff013143f73f33653e2f60fecbde00cb">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#aff013143f73f33653e2f60fecbde00cb">CMPostgreSQL</a>.</p>

</div>
</div>
<a class="anchor" id="ac32a7f2a2c349c061f600bc0ac2fec86"></a><!-- doxytag: member="CMDatabaseProtocol::update" ref="ac32a7f2a2c349c061f600bc0ac2fec86" args="($tableName, $newvalues, $criteria=false, $a=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">update </td>
          <td>(</td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>tableName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>newvalues</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>criteria</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&nbsp;</td>
          <td class="paramname"> <em>a</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><code>UPDATE</code> statement. </p>
<p>See the full description at <a class="el" href="manual__databases__iud.html#manual_databases_iud_update">Updating data</a>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function can return 0 affected rows even when the the SQL was successful. To test if the statament actually executed successfully use: <div class="fragment"><pre class="fragment">       <span class="keywordflow">if</span>($dbh-&gt;update(...) === <span class="keyword">false</span>)
         die(<span class="stringliteral">&quot;SQL failed&quot;</span>);
</pre></div></dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>$tableName</em>&nbsp;</td><td>The name of the table. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$newvalues</em>&nbsp;</td><td>An associative array of new field data. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$criteria</em>&nbsp;</td><td>An associative array of items to filter the <code>WHERE</code> clause with. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>$a</em>&nbsp;</td><td>Extra options. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><span style="color: MediumBlue"><code>false</code></span> on failure, or an integer of the number of affected rows. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="interface_c_m_database_protocol.html#a4ced4e9cc5497c475c2cd1a03318f45a" title="Perform a query.">query()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#a13148537025768f2373012227785c540" title="Execute a query (no query handle returned.).">execute()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#a6502927265740994ba9898d919f17cdd" title="Generate and execute an INSERT statement.">insert()</a> </dd>
<dd>
<a class="el" href="interface_c_m_database_protocol.html#a2415ba06f043f104ed33b9571f200fc8" title="DELETE statement.">delete()</a> </dd></dl>

<p>Implemented in <a class="el" href="class_c_m_my_s_q_l.html#ac32a7f2a2c349c061f600bc0ac2fec86">CMMySQL</a>, <a class="el" href="class_c_m_oracle.html#ac32a7f2a2c349c061f600bc0ac2fec86">CMOracle</a>, and <a class="el" href="class_c_m_postgre_s_q_l.html#ac32a7f2a2c349c061f600bc0ac2fec86">CMPostgreSQL</a>.</p>

</div>
</div>
<hr/>The documentation for this interface was generated from the following file:<ul>
<li><a class="el" href="_c_m_database_protocol_8php_source.html">CMDatabaseProtocol.php</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
